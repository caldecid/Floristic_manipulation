#arranging taxa names
expowo_df$name = str_replace(expowo_df$name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$name %in% gen_powo$taxon_name), ]
}
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in seq_along(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
return(expowo_df)
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in seq_along(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$name = str_replace(expowo_df$name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
View(list_genus)
View(list_expowo)
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in seq_along(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$name = str_replace(expowo_df$name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in seq_along(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$name = str_replace(expowo_df$name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
library(expowo)
library(tidyverse)
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in seq_along(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$name = str_replace(expowo_df$name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
View(list_expowo)
x = vector("list", length = 4)
x[[1]] = tibble(c(2,3,4), c(5,6,7))
View(x)
x[[1]]
View(x)
x[[2]] = NULL
x[[3]] = tibble(x = c(2,3), y = c(4,5))
t = do.call("rbind", x)
x[[1]] = tibble(x = c(2,3,4), y = c(5,6,7))
x[[2]] = NULL
x[[3]] = tibble(x = c(2,3), y = c(4,5))
t = do.call("rbind", x)
View(t)
View(list_expowo)
View(list_expowo[["Acanthaceae"]])
y = powoSpecies(family = "Alismataceae", genus = "Echinodorus")
View(y)
View(angiosperms_bra)
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in seq_along(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$taxon_name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
View(list_expowo)
list_expowo[["Acanthaceae"]]
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in 3){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$taxon_name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
library(expowo)
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in 3){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$taxon_name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
library(tidyverse)
for(i in 3){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$taxon_name %in% gen_powo$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
y = powoSpecies(family = "Alismataceae", genus = "Echinodorus")
y$taxon_name = str_replace(y$taxon_name, " ", "_")
View(y)
x = y[which(y$taxon_name %in% angiosperms_bra$taxon_name), ]
x = y[-which(y$taxon_name %in% angiosperms_bra$taxon_name), ]
y$taxon_name %in% angiosperms_bra$taxon_name
angiosperms_bra$taxon_name
which(y$taxon_name %in% angiosperms_bra$taxon_name)
-which(y$taxon_name %in% angiosperms_bra$taxon_name)
-which(y$taxon_name %in% df_powo_families$taxon_name)
View(df_powo_families)
-which(y$taxon_name %in% df_powo_families$name)
which(y$taxon_name %in% df_powo_families$name)
df_powo_families %>% filter(family == "Alismataceae", genus == "Echinodorus")
w = df_powo_families %>% filter(family == "Alismataceae", genus == "Echinodorus")
View(w)
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in 2){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[which(expowo_df$taxon_name %in% gen_powo$name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
View(list_expowo)
list_expowo[["Achariaceae"]]
angiosperms_bra$taxon_name[1]
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in 4){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
##filtering genus
gen_powo = fam_powo %>% filter(genus == powo_genus[j])
##POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[-which(expowo_df$taxon_name %in% angiosperms_bra$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in seq_along(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
#POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[-which(expowo_df$taxon_name %in% angiosperms_bra$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
list_expowo[["Acanthaceae"]]
View(list_expowo[["Acanthaceae"]])
angiosperms_bra$taxon_name %in% "Dyschoriste_hirsuta"
which(angiosperms_bra$taxon_name %in% "Dyschoriste_hirsuta")
which(powo_fam %in% "Asteraceae")
for(i in 18:length(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
#POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[-which(expowo_df$taxon_name %in% angiosperms_bra$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
View(list_expowo)
save(list_expowo, file = "Data/Metada/Angiosperms/expowo/list_expowo.RData")
save(list_expowo, file = "Data/Metadata/Angiosperms/expowo/list_expowo.RData")
18:length(powo_fam)
powo_fam[18]
powo_fam <- unique(df_powo_families$family)
list_expowo <- vector("list", length = length(powo_fam))
names(list_expowo) = powo_fam
for(i in 18:length(powo_fam)){
##filetring family
fam_powo = df_powo_families %>% filter(family == powo_fam[i])
##extracting genus
powo_genus = unique(fam_powo$genus)
list_genus <- vector("list", length = length(powo_genus))
for(j in seq_along(powo_genus)){
##implementing expowo
tryCatch({
##calling the species within families and genus in POWO
expowo_df = powoSpecies(family = powo_fam[i],
genus = powo_genus[j],
hybrid = TRUE,
synonyms = TRUE,
country = "Brazil")
#arranging taxa names
expowo_df$taxon_name = str_replace(expowo_df$taxon_name, " ", "_")
#POWO species absent in Flora de Brasil
list_genus[[j]]=
expowo_df[-which(expowo_df$taxon_name %in% angiosperms_bra$taxon_name), ]
return(list_genus[[j]])
}, error = function(e){
message("Absent genus in POWO")
print(e)
})
}
list_expowo[[i]] = do.call("rbind", list_genus)
}
View(list_expowo)
View(list_expowo)
